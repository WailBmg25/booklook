# BookLook Production Environment Configuration
# Copy this file to .env.production and fill in the values

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME="BookLook"
DEBUG=false
LOG_LEVEL=info

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================
POSTGRES_USER=bookuser
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=book_library

# PostgreSQL Performance Tuning (adjust based on your server specs)
# For 32GB RAM server, recommended values:
POSTGRES_SHARED_BUFFERS=8GB
POSTGRES_EFFECTIVE_CACHE_SIZE=24GB
POSTGRES_MAINTENANCE_WORK_MEM=2GB
POSTGRES_WORK_MEM=32MB
POSTGRES_MAX_CONNECTIONS=200

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_MAX_MEMORY=4gb

# =============================================================================
# BACKEND API CONFIGURATION
# =============================================================================
BACKEND_PORT=8000
BACKEND_WORKERS=8
SECRET_KEY=CHANGE_ME_GENERATE_RANDOM_SECRET_KEY_HERE

# CORS Origins (comma-separated, no spaces)
# For ngrok: https://your-ngrok-url.ngrok-free.dev
# For production: https://yourdomain.com,https://www.yourdomain.com
CORS_ORIGINS=https://yourdomain.com

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
FRONTEND_PORT=3000

# API URL (used by frontend to connect to backend)
# For ngrok: https://your-ngrok-url.ngrok-free.dev/api
# For production: https://yourdomain.com/api
NEXT_PUBLIC_API_URL=https://yourdomain.com/api

# NextAuth Configuration
# For ngrok: https://your-ngrok-url.ngrok-free.dev
# For production: https://yourdomain.com
NEXTAUTH_URL=https://yourdomain.com
NEXTAUTH_SECRET=CHANGE_ME_GENERATE_RANDOM_NEXTAUTH_SECRET_HERE
AUTH_TRUST_HOST=true

# =============================================================================
# DATASET CONFIGURATION
# =============================================================================
# Path to institutional dataset directory (for loading books)
# Leave empty or set to ./data if not using dataset loading
DATASET_PATH=/path/to/your/dataset

# HuggingFace Token (for loading institutional books dataset)
# Get your token from: https://huggingface.co/settings/tokens
HUGGINGFACE_TOKEN=your_huggingface_token_here

# Optional: Google Books API Key (improves ISBN lookup)
# Get your key from: https://console.cloud.google.com/apis/credentials
GOOGLE_BOOKS_API_KEY=your_google_books_api_key_here

# =============================================================================
# PGADMIN CONFIGURATION (if using pgadmin profile)
# =============================================================================
PGADMIN_PORT=5050
PGADMIN_EMAIL=admin@booklook.com
PGADMIN_PASSWORD=CHANGE_ME_PGADMIN_PASSWORD

# =============================================================================
# NGINX CONFIGURATION (if using nginx profile)
# =============================================================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. Generate strong random passwords for POSTGRES_PASSWORD
# 2. Generate SECRET_KEY using: openssl rand -hex 32
# 3. Generate NEXTAUTH_SECRET using: openssl rand -base64 32
# 4. Never commit this file with real values to version control
# 5. Use environment-specific files (.env.production, .env.staging)
# 6. Restrict file permissions: chmod 600 .env.production
